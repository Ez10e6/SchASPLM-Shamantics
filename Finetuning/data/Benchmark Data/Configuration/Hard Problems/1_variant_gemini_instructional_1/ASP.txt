% Components: CPUs = {X9, ZetaCore, Alpha8}, GPUs = {QuasarRTX, NovaX, GammaGTX},Storage = {UltraSSD, MegaHDD, FusionDrive}.
cpu("X9"; "ZetaCore"; "Alpha8").
gpu("QuasarRTX"; "NovaX"; "GammaGTX").
storage("UltraSSD"; "MegaHDD"; "FusionDrive").

% Select exactly one CPU, one GPU, and one storage device.
1 { selected_cpu(C) : cpu(C) } 1.
1 { selected_gpu(G) : gpu(G) } 1.
1 { selected_storage(S) : storage(S) } 1.

% CPU Costs: [X9: 300, ZetaCore: 500, Alpha8: 450].
cost("X9", 300; "ZetaCore", 500; "Alpha8", 450).

% GPU Costs: [QuasarRTX: 700, NovaX: 600, GammaGTX: 450].
cost("QuasarRTX", 700; "NovaX", 600; "GammaGTX", 450).

% Storage Costs: [UltraSSD: 250, MegaHDD: 200, FusionDrive: 300].
cost("UltraSSD", 250; "MegaHDD", 200; "FusionDrive", 300).

% CPU Performance: [X9: 95, ZetaCore: 120, Alpha8: 110].
perf("X9", 95; "ZetaCore", 120; "Alpha8", 110).

% GPU Performance: [QuasarRTX: 130, NovaX: 125, GammaGTX: 90].
perf("QuasarRTX", 130; "NovaX", 125; "GammaGTX", 90).

% Storage Performance: [UltraSSD: 100, MegaHDD: 60, FusionDrive: 95].
perf("UltraSSD", 100; "MegaHDD", 60; "FusionDrive", 95).

% The most expensive selected component must also be the one with the highest performance among selected parts.
selected(X) :- selected_cpu(X).
selected(X) :- selected_gpu(X).
selected(X) :- selected_storage(X).

max_cost(C) :- cost(C, V), V = #max {V1 : cost(C1, V1), selected(C1)}.
max_perf(C) :- perf(C, V), V = #max {V1 : perf(C1, V1), selected(C1)}.
:- selected(C), max_cost(C), not max_perf(C).

% You may not select all three top-performing components.
top_cpu(C) :- cpu(C), perf(C, V), V = #max {V1 : perf(C1, V1), cpu(C1)}.
top_gpu(C) :- gpu(C), perf(C, V), V = #max {V1 : perf(C1, V1), gpu(C1)}.
top_storage(C) :- storage(C), perf(C, V), V = #max {V1 : perf(C1, V1), storage(C1)}.

:- selected_cpu(C), top_cpu(C), selected_gpu(G), top_gpu(G), selected_storage(S), top_storage(S).

% The difference in cost between any two selected components must be â‰¤ 250.
:- selected(C1), selected(C2), cost(C1, V1), cost(C2, V2), V1 - 250 >= V2.

% The selected GPU must not have higher performance than the selected CPU.
:- selected_cpu(C), selected_gpu(G), perf(C, PC), perf(G, PG), PG > PC.

% Alpha8 is incompatible with NovaX.
:- selected_cpu("Alpha8"), selected_gpu("NovaX").

% FusionDrive can only be used with ZetaCore.
:- selected_storage("FusionDrive"), not selected_cpu("ZetaCore").
