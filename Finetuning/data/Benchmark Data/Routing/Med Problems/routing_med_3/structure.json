{
  "instance_template": "loc(\"BaseCamp\"). loc(\"Fork1\"). loc(\"Fork2\"). loc(\"OutpostX\"). loc(\"OutpostY\"). loc(\"RelayStation\"). edge(\"BaseCamp\", \"Fork1\"). edge(\"Fork1\", \"BaseCamp\"). edge(\"BaseCamp\", \"Fork2\"). edge(\"Fork2\", \"BaseCamp\"). edge(\"Fork1\", \"OutpostX\"). edge(\"OutpostX\", \"Fork1\"). edge(\"Fork1\", \"RelayStation\"). edge(\"RelayStation\", \"Fork1\"). edge(\"Fork2\", \"OutpostY\"). edge(\"OutpostY\", \"Fork2\"). edge(\"Fork2\", \"RelayStation\"). edge(\"RelayStation\", \"Fork2\"). time(0..10).",
  "generator": "at(\"BaseCamp\", 0). { at(L, T) : loc(L) } = 1 :- time(T). { inspect_at(L, T) : loc(L), time(T) }.",
  "hard_constraints": [
    {
      "description": "Need to hit OutpostX exactly once, no more, no less.",
      "asp_rule": ":- #count { T : inspect_at(\"OutpostX\", T) } != 1."
    },
    {
      "description": "Sanity check: make sure OutpostY is inspected exactly once.",
      "asp_rule": ":- #count { T : inspect_at(\"OutpostY\", T) } != 1."
    },
    {
      "description": "If we decide to scan the RelayStation, we only do it once.",
      "asp_rule": ":- #count { T : inspect_at(\"RelayStation\", T) } > 1."
    },
    {
      "description": "Can't just scan thin air; the rover has to actually be at the location to inspect it.",
      "asp_rule": ":- inspect_at(L, T), not at(L, T)."
    },
    {
      "description": "Scanning takes a full minute, so the rover has to stay put during the inspection process.",
      "asp_rule": ":- inspect_at(L, T), not at(L, T+1), T < 10."
    },
    {
      "description": "Basic movement rules: the rover can only move between connected nodes on the map.",
      "asp_rule": ":- at(L1, T), at(L2, T+1), L1 != L2, not edge(L1, L2), T < 10."
    },
    {
      "description": "The battery is crappy, so we're capped at 6 movement units total.",
      "asp_rule": ":- B = #count { T : at(L1, T), at(L2, T+1), L1 != L2, T < 10 }, B > 6."
    },
    {
      "description": "RelayStation rule: you can only grab that data if you finish mandatory sites with at least 3 battery units left.",
      "asp_rule": ":- inspect_at(\"RelayStation\", _), TM = #max { T : inspect_at(L, T), L != \"RelayStation\" }, B = #count { T1 : at(L1, T1), at(L2, T1+1), L1 != L2, T1 < TM }, B >= 4."
    }
  ],
  "soft_constraints": [
    {
      "description": "It's a bummer if we miss the bonus data at the RelayStation.",
      "asp_rule": "penalty(\"missed_bonus\", \"RelayStation\", 1) :- not inspect_at(\"RelayStation\", _)."
    }
  ],
  "global_objective": "#minimize { C, Name, Tuple : penalty(Name, Tuple, C) }."
}