{
  "instance_template": "course(\"C01\", \"T01\", 4, 3, 30, 0). room(\"R01\", 40, \"B1\"). curricula(\"Cur01\", \"C01\"). unavailability_constraint(\"C01\", 0, 1). room_constraint(\"C01\", \"R02\"). days(5). periods_per_day(6). min_max_daily_lectures(2, 5). soft_constraint(\"RoomCapacity\", 1, 1). day(0..4). slot(0..5).",
  "generator": "{ scheduled(C, R, D, P) : room(R), day(D), slot(P) } = N :- course(C, _, N, _, _, _).",
  "hard_constraints": [
    {
      "description": "A single lecture for a specific course must be assigned to no more than one room within a given temporal period.",
      "asp_rule": ":- scheduled(C, R1, D, P), scheduled(C, R2, D, P), R1 != R2."
    },
    {
      "description": "Lectures conducted by the same instructor are prohibited from occurring within the same temporal period.",
      "asp_rule": ":- scheduled(C1, _, D, P), scheduled(C2, _, D, P), C1 != C2, course(C1, T, _, _, _, _), course(C2, T, _, _, _, _)."
    },
    {
      "description": "Lectures belonging to the same curriculum are prohibited from being scheduled concurrently within the same temporal period.",
      "asp_rule": ":- scheduled(C1, _, D, P), scheduled(C2, _, D, P), C1 != C2, curricula(Cu, C1), curricula(Cu, C2)."
    },
    {
      "description": "No two lectures may occupy the same room during the same temporal period.",
      "asp_rule": ":- scheduled(C1, R, D, P), scheduled(C2, R, D, P), C1 != C2."
    },
    {
      "description": "Lectures must not be assigned to periods where the instructor is designated as unavailable.",
      "asp_rule": ":- scheduled(C, _, D, P), unavailability_constraint(C, D, P)."
    }
  ],
  "soft_constraints": [
    {
      "description": "Penalty is incurred if the number of students enrolled in a course exceeds the capacity of the assigned room.",
      "asp_rule": "penalty(\"RoomCapacity\", (C,R,D,P), (S-Cap)*W, L) :- scheduled(C,R,D,P), course(C,_,_,_,S,_), room(R,Cap,_), S > Cap, soft_constraint(\"RoomCapacity\", W, L)."
    },
    {
      "description": "Penalty is applied if the number of distinct days on which a course is scheduled is less than the required minimum.",
      "asp_rule": "working_day(C,D) :- scheduled(C,_,D,_). penalty(\"MinWorkingDays\", C, (Min-N)*W, L) :- course(C,_,_,Min,_,_), N = #count { D : working_day(C,D) }, N < Min, soft_constraint(\"MinWorkingDays\", W, L)."
    },
    {
      "description": "Penalty is imposed for curriculum lectures that are not adjacent to any other lecture within the same curriculum on the same day.",
      "asp_rule": "curriculum_scheduled(Cu,D,P) :- scheduled(C,_,D,P), curricula(Cu,C). penalty(\"IsolatedLectures\", (Cu,D,P), W, L) :- curriculum_scheduled(Cu,D,P), not curriculum_scheduled(Cu,D,P-1), not curriculum_scheduled(Cu,D,P+1), soft_constraint(\"IsolatedLectures\", W, L)."
    },
    {
      "description": "Penalty is assigned for empty time intervals (windows) between the earliest and latest scheduled lectures of a curriculum on a specific day.",
      "asp_rule": "curriculum_active(Cu,D,P_first,P_last) :- curricula(Cu,_), day(D), P_first = #min { P : curriculum_scheduled(Cu,D,P) }, P_last = #max { P : curriculum_scheduled(Cu,D,P) }. penalty(\"Windows\", (Cu,D,P), W, L) :- curriculum_active(Cu,D,P_first,P_last), slot(P), P > P_first, P < P_last, not curriculum_scheduled(Cu,D,P), soft_constraint(\"Windows\", W, L)."
    },
    {
      "description": "Penalty is applied for each additional room utilized by a course beyond the first designated room.",
      "asp_rule": "used_room(C,R) :- scheduled(C,R,_,_). penalty(\"RoomStability\", C, (N-1)*W, L) :- course(C,_,_,_,_,_), N = #count { R : used_room(C,R) }, N > 1, soft_constraint(\"RoomStability\", W, L)."
    },
    {
      "description": "Penalty is incurred if the daily count of lectures for a curriculum exceeds the defined maximum threshold.",
      "asp_rule": "penalty(\"StudentMaxLoad\", (Cu,D), (N-Max)*W, L) :- curricula(Cu,_), day(D), N = #count { P : curriculum_scheduled(Cu,D,P) }, min_max_daily_lectures(_,Max), N > Max, soft_constraint(\"StudentMinMaxLoad\", W, L)."
    },
    {
      "description": "Penalty is incurred if the daily count of lectures for a curriculum is below the defined minimum threshold, provided at least one lecture is scheduled.",
      "asp_rule": "penalty(\"StudentMinLoad\", (Cu,D), (Min-N)*W, L) :- curricula(Cu,_), day(D), N = #count { P : curriculum_scheduled(Cu,D,P) }, min_max_daily_lectures(Min,_), N > 0, N < Min, soft_constraint(\"StudentMinMaxLoad\", W, L)."
    },
    {
      "description": "Penalty is imposed when consecutive lectures in a curriculum are scheduled in different buildings.",
      "asp_rule": "penalty(\"TravelDistance\", (Cu,D,P), W, L) :- curricula(Cu,C1), curricula(Cu,C2), scheduled(C1,R1,D,P), scheduled(C2,R2,D,P+1), room(R1,_,B1), room(R2,_,B2), B1 != B2, soft_constraint(\"TravelDistance\", W, L)."
    },
    {
      "description": "Penalty is assigned if a course is scheduled in a room that is explicitly constrained as unsuitable.",
      "asp_rule": "penalty(\"RoomSuitability\", (C,R,D,P), W, L) :- scheduled(C,R,D,P), room_constraint(C,R), soft_constraint(\"RoomSuitability\", W, L)."
    },
    {
      "description": "Penalty is applied for lectures of a course requiring grouped scheduling that are not placed in adjacent temporal periods.",
      "asp_rule": "penalty(\"DoubleLectures\", (C,D,P), W, L) :- course(C,_,_,_,_,1), scheduled(C,R,D,P), N = #count { PP : scheduled(C,_,D,PP) }, N >= 2, not scheduled(C,R,D,P-1), not scheduled(C,R,D,P+1), soft_constraint(\"DoubleLectures\", W, L)."
    }
  ],
  "global_objective": "#minimize { Cost@Priority, Label, Object : penalty(Label, Object, Cost, Priority) }."
}